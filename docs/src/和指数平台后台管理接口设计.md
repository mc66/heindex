[TOC]

2018-06-22，由[吕晨浩]创建。

更新历史：

1. 

# 和指数平台后台管理接口设计

## 应用延时功耗原始数据处理接口

该接口处理某个app的延时功耗原始数据。

该接口是POST请求。

### 请求URI

```
app-quality-original-delay
```
### 请求入参（list）

| 元素          | 类型       | 描述                   | 必选 |
| ------------- | ----------| -----------------------| ---- |
|  app          |int        |    应用id              | 是   |
|  category     |int        |    类别id              | 是   |
|  version      |string     |    应用版本            | 是   |
|  measuring    |string     |    测量指标            | 是   |
|  network      |string     |    网络环境            | 是   |
|  measure      |double     |    测量值              | 是   |
|  standard     |double     |    达标值              | 是   |
|  challenge    |double     |    挑战值              | 是   |
|  month        |string     |    月份                | 是   |

### 响应出参

| 元素      | 父元素        | 类型          | 描述                            |
| --------- | -----------  | ------------- | -------------------------------|
| code      | code         | int           | 状态码                          |
| msg       | msg          | string        | 状态，'成功'或者'失败'           |
  
### 请求示例

处理某个app的延时功耗原始数据

```
http://localhost:18083/api/app-quality-original-delay
```



```json
{
    "id": "chookin.mac-20180525_162239-0",
    "succeed": true,
    "code": 200,
    "msg": "成功",
    "time": 1527236559855
}
```

## 根据应用类别查询该应用所有app

该接口根据应用类别查询该应用所有app。

该接口是GET请求。

### 请求URI

```
app-findAppByCategory
```
### 请求入参

| 元素             | 类型                 | 描述                       | 必选 |
| ----------------| ---------------------| ---------------------------| ---- |
| category        | int                  | app的类型id                 | 是   |

### 响应出参
  
### 请求示例

处理某个app的延时功耗原始数据

```
http://localhost:18083/api/app-findAppByCategory?category=1
```



```json
{
    "id": "chookin.mac-20180525_162239-0",
    "succeed": true,
    "code": 200,
    "msg": "成功",
    "time": 1527236559855
}
```
## 应用功能界面原始数据处理接口

该接口处理某个app的功能界面原始数据。

该接口是POST请求。

### 请求URI

```
app-quality-original-features
```
### 请求入参(list)

| 元素       | 类型           | 描述               | 必选 |
| -----------| --------------| -------------------| ---- |
| app        | int           |  应用id             | 是   |
| category   | int           |  类别id             | 是   |
| version    | string        |  应用版本           | 是   |
| dimensions | string        |  问题维度           | 是   |
| des        | string        |  应用id             | 是   |
| experience | int           |  体验影响程度        | 是   |
| frequency  | int           |  预期发生频率        | 是   |
| score      | int           |  严重等级得分        | 是   |
| degree     | string        |  严重等级            | 是   |
| month      | string        |  月份               | 是   |

### 响应出参

| 元素      | 父元素        | 类型          | 描述                            |
| --------- | -----------  | ------------- | -------------------------------|
| code      | code         | int           | 状态码                          |
| msg       | msg          | string        | 状态，'成功'或者'失败'           |
  
### 请求示例

处理某个app的功能界面原始数据

```
http://192.168.177.1:18083/api/app-quality-original-features
```

```json
{
    "id": "chookin.mac-20180525_162239-0",
    "succeed": true,
    "code": 200,
    "msg": "成功",
    "time": 1527236559855
}
```
## 查询某类未添加应用体验接口

该接口查询某类未添加的应用体验集合

该接口是GET请求。

### 请求URI

```
app-quality-original-experience-list
```
### 请求入参(list)

| 元素       | 类型           | 描述               | 必选 |
| -----------| --------------| -------------------| ---- |
| category   | int           |  类别id             | 是   |

### 响应出参

| 元素      | 父元素      | 类型          | 描述                      |
| --------- | -----------| ------------- | -------------------------|
| items     | data       | json list对象  |                         |
| app       | items的元素 | int           | 应用id                   |
| appName   | items的元素 | string        | 应用名字                 |
| version   | items的元素 | string        |  应用版本                |
| month     | items的元素 | string        |  月份                    |

  
### 请求示例

查询某类未添加的应用体验集合

```
http://192.168.177.1:18083/api/app-quality-original-experience-list?category=1
```

## 应用体验原始数据处理接口

该接口处理某类app的体验原始数据。

该接口是POST请求。

### 请求URI

```
app-quality-original-experience-list/findWhole
```
### 请求入参(list)

| 元素       | 类型           | 描述               | 必选 |
| -----------| --------------| -------------------| ---- |
| app        | int           |  应用id             | 是   |
| category   | int           |  类别id             | 是   |
| version    | string        |  应用版本           | 是   |
| experience | double        |  使用体验           | 是   |
| month      | string        |  月份               | 是   |

### 响应出参

| 元素      | 父元素        | 类型          | 描述                            |
| --------- | -----------  | ------------- | -------------------------------|
| code      | code         | int           | 状态码                          |
| msg       | msg          | string        | 状态，'成功'或者'失败'           |
  
### 请求示例

处理某类app的体验原始数据

```
http://localhost:18083/api/app-quality-original-experience-list/findWhole
```



```json
{
    "id": "chookin.mac-20180525_162239-0",
    "succeed": true,
    "code": 200,
    "msg": "成功",
    "time": 1527236559855
}
```
### 请求示例

修改处理某类app的体验原始数据

```
http://localhost:18083/api/app-quality-original-experience-list/updateExperience?id=40&experience=0
```

| 元素       | 类型           | 描述               | 必选 |
| -----------| -------------- | -------------------| ---- |
| experience | Double         |  体验分            | 是   |
|  id        | int            |   主键             |  是  |



```json
{
	"msg": "成功",
	"code": 200,
    "succeed": true
}
```


## 应用计算值转标准值处理接口

该接口处理某类app的体验原始数据。

该接口是POST请求。

### 请求URI

```
app-quality-calculation
```
### 请求入参(list)

| 元素       | 类型           | 描述               | 必选 |
| -----------| --------------| -------------------| ---- |
| app        | int           |  应用id             | 是   |
| category   | int           |  类别id             | 是   |
| version    | string        |  应用版本           | 是   |
| features   | double        |  功能               | 是   |
| view       | double        |  界面               | 是   |
| delay      | double        |  延时               | 是   |
| consume    | double        |  功耗               | 是   |
| experience | double        |  使用体验            | 是   |
| month      | string        |  月份               | 是   |

### 响应出参
  
### 请求示例

处理某类app的体验原始数据

```
http://192.168.177.1:18083/api/app-quality-calculation
```



```json
{
    "id": "chookin.mac-20180525_162239-0",
    "succeed": true,
    "code": 200,
    "msg": "成功",
    "time": 1527236559855
}
```



## 应用计算值未转换接口

该接口查询未转换的应用计算值数据。

该接口是GET请求。

### 请求URI

```
app-quality-calculation-list
```
### 请求入参

### 响应出参
| 元素      | 父元素        | 类型          | 描述                            |
| --------- | -----------  | ------------- | -------------------------------|
| items     | data         | json list对象 |                                |
| app       | items的元素   | string       | app名字                         |
| features  | items的元素   | double       | 功能                            |
| view      | items的元素   | double       | 界面                            |
| delay     | items的元素   | double       | 延时                            |
| consume   | items的元素   | double       | 功耗                            |
| experience| items的元素   | double       | 使用体验                         |
  
### 请求示例

查询未转换的应用计算值数据

```
http://192.168.177.1:18083/api/app-calculation-quality-list
```




## 查询未计算体验指数的所有数据

该接口查询未计算体验指数的所有数据。

该接口是GET请求。

### 请求URI

```
app-quality-qindex-list
```
### 请求入参

### 响应出参
| 元素      | 父元素        | 类型          | 描述                            |
| --------- | -----------  | ------------- | -------------------------------|
| items     | data         | json list对象 |                                |
| app       | items的元素   | string       | app名字                         |
| features  | items的元素   | double       | 功能                            |
| view      | items的元素   | double       | 界面                            |
| delay     | items的元素   | double       | 延时                            |
| consume   | items的元素   | double       | 功耗                            |
| experience| items的元素   | double       | 使用体验                         |
  
### 请求示例

查询未转换的应用计算值数据

```
http://192.168.177.1:18083/api/app-quality-qindex-list
```


## 应用品质总分计算接口

该接口计算应用的品质总分。

该接口是POST请求。

### 请求URI

```
app-quality-qindex
```
### 请求入参

### 响应出参
  
### 请求示例

查询未转换的应用计算值数据

```
http://192.168.177.1:18083/api/app-quality-qindex
```
## 运营得分--运营指数中内容得分(添加内容的原始数据(三个内容分类))

该接口是post请求。

### 请求URI

```
app-original-content
```
### 请求入参

### 响应出参
| 元素      | 父元素       | 类型            | 描述                    |
| ---------| -----------  | -------------   | -----------------------|
| mesg     | data         | json list对象   |  添加信息               |

     
 
##运营得分--运营指数中内容得分(添加内容的原始数据(查询内容的分类)) 

### 请求URI   
```
app-content-category
```               
### 请求入参

### 响应出参
| 元素      | 父元素        | 类型          | 描述                            |
| --------- | -----------  | ------------- | -------------------------------|
| items     | data         | json list对象 |                                |
| category  | items的元素   | int          | app的类别id                     |

### 请求示例

```
http://192.168.31.222:18083/api/app-original-content
```

```json
{
    "id": "chookin.mac-20180525_162239-0",
    "succeed": true,
    "code": 200,
    "msg": "",
    "data": {
        
    },
    "time": 1527236559855
}
```

## 渠道、营销、资费、服务原始数据的接口

该接口是GET请求。

### 请求URI

```
saveAppOriginalContentEntity
```

### 请求入参

| 元素                          | 类型           | 描述  | 必选 |
| -----------------------------| -------------- | ------| ---- |
| AppOriginalOperationsEntity  | entity         | 对象  | 是   |


### 响应出参

| 元素      | 父元素      | 类型     | 描述 |                          
| ---------| ----------- | ---------|-----|
|mesg      |  data       | json     |     |


## 将运营体验得分存入数据库接口

该接口是POST请求。

### 请求URI

```
operations-experience
```

### 请求入参

| 元素  | 类型                                             | 描述   | 必选 |
| ------| ------------------------------------------------| -------| ---- |
| map   |Map<String,List<AppCalculationOperationsEntity>> |        | 是   |

### 响应出参

| 元素      | 父元素      | 类型          | 描述                            |
| --------- | -----------| ------------- | -------------------------------|
| items     | data       | json list对象 | 记录操作成功信息                 |


### 请求示例

```
http://192.168.31.222:18083/api/operations-experience
```

```json
{
    "id": "chookin.mac-20180525_162239-0",
    "succeed": true,
    "code": 200,
    "msg": "",
    "data": {
        
    },
    "time": 1527236559855
}

```


## 查询运营指数中没有转换为标准值的数据

该接口查询运营指数中没有转换为标准值的数据

该接口是GET请求。

### 请求URI

```
http://localhost:18083/api/app-calculation/query-operation?category=1&month=201808
```
### 请求入参

| 元素             | 类型                 | 描述                       | 必选 |
| ----------------| ---------------------| ---------------------------| ---- |
| category  	  | Integer				 | App类别的id                 | 是   |
| month   		  | String				 | 指定月份                    | 是   |

### 响应出参

| 元素      | 父元素        | 类型           | 描述                          |
| --------- | -----------  | ------------- | ------------------------------|
| items     | data         | json list对象  |                              |
| category  | items的元素   | Integer       | app类别id                     |
| month		| items的元素   | string        | 月份                          |
| name      | items的元素   | String        | app名字                       | 
| content   | items的元素   | double        | 内容得分                       | 
| channel   | items的元素   | double        | 渠道得分                       |
| tariff 	| items的元素   | double        | 资费得分                       |
| service   | items的元素   | double        | 服务得分                       | 
| market    | items的元素   | double        | 营销得分                       |
| experience| items的元素   | double        | 运营体验                       |

## 将运营指数中没有转换为标准值的数据转化为标准值 

该接口是POST请求。

### 请求URI

```
http://localhost:18083/api/app-calculation/save-operations
```
### 请求入参

| 元素             | 类型                 | 描述                       | 必选 |
| ----------------| ---------------------| ---------------------------| ---- |
| Map			  | Map                  | 未转换数据集合               | 是   |

### 响应出参

{
	"id": "Y-PC-20180702_164753-0",
	"succeed": true,
	"code": 200,
	"msg": "",
	"time": 1530521273379
}