diff --git a/index-server/src/main/java/com/cmri/um/he/index/controller/AppProblemController.java b/index-server/src/main/java/com/cmri/um/he/index/controller/AppProblemController.java
index b8368f9..56b51af 100644
--- a/index-server/src/main/java/com/cmri/um/he/index/controller/AppProblemController.java
+++ b/index-server/src/main/java/com/cmri/um/he/index/controller/AppProblemController.java
@@ -9,6 +9,8 @@ import org.springframework.web.bind.annotation.RequestMapping;
 import org.springframework.web.bind.annotation.RequestMethod;
 import org.springframework.web.bind.annotation.RestController;
 
+import javax.servlet.http.HttpServletRequest;
+import java.io.IOException;
 import java.util.List;
 import java.util.Map;
 
@@ -32,7 +34,9 @@ public class AppProblemController extends ZRestController{
      * @return
      */
     @RequestMapping(value = "/app-quality-problem",method = RequestMethod.GET)
-    public ResponseMessage getAppQualityProblem(int id,String dimensions,String month){
+    public ResponseMessage getAppQualityProblem(HttpServletRequest request,int id, String dimensions, String month)throws IOException{
+        String dimensions1 = request.getParameter("dimensions");
+        dimensions = new String(dimensions1.getBytes("iso-8859-1"), "utf-8");
         List<Map<String, Object>> appQualityProblemList = appProblemService.getAppQualityProblem(id, dimensions,month);
         ResponseMessage responseMessage=this.genResponseMessage();
         if (appQualityProblemList!=null && appQualityProblemList.size()!=0){
@@ -52,7 +56,9 @@ public class AppProblemController extends ZRestController{
      * @return
      */
     @RequestMapping(value = "/app-operation-problem",method = RequestMethod.GET)
-    public ResponseMessage getAppOperationProblem(int id,String dimensions,String month){
+    public ResponseMessage getAppOperationProblem(HttpServletRequest request,int id,String dimensions,String month)throws IOException{
+        String dimensions1 = request.getParameter("dimensions");
+        dimensions = new String(dimensions1.getBytes("iso-8859-1"), "utf-8");
         List<Map<String, Object>> appOperationProblemList = appProblemService.getAppOperationProblem(id, dimensions,month);
         ResponseMessage responseMessage=this.genResponseMessage();
         if (appOperationProblemList!=null && appOperationProblemList.size()!=0){
diff --git a/patches/machao-patch_modifyComment.patch b/patches/machao-patch_modifyComment.patch
index dd9f7fd..e69de29 100644
--- a/patches/machao-patch_modifyComment.patch
+++ b/patches/machao-patch_modifyComment.patch
@@ -1,548 +0,0 @@
-diff --git a/index-server/src/main/java/com/cmri/um/he/index/controller/AppOperationsController.java b/index-server/src/main/java/com/cmri/um/he/index/controller/AppOperationsController.java
-index cb116b5..2d35ac3 100644
---- a/index-server/src/main/java/com/cmri/um/he/index/controller/AppOperationsController.java
-+++ b/index-server/src/main/java/com/cmri/um/he/index/controller/AppOperationsController.java
-@@ -1,4 +1,5 @@
- package com.cmri.um.he.index.controller;
- 
-+
- public class AppOperationsController {
- }
-diff --git a/index-server/src/main/java/com/cmri/um/he/index/controller/AppProblemController.java b/index-server/src/main/java/com/cmri/um/he/index/controller/AppProblemController.java
-index 95dc64a..b8368f9 100644
---- a/index-server/src/main/java/com/cmri/um/he/index/controller/AppProblemController.java
-+++ b/index-server/src/main/java/com/cmri/um/he/index/controller/AppProblemController.java
-@@ -13,11 +13,11 @@ import java.util.List;
- import java.util.Map;
- 
- /**
-- * 提供App维度问题列表
-- * Created by machao on 2018/7/3.
-+ * 查询app某维度的问题
-+ * @author machao
-+ * Created on 2018/7/4
-  */
- @RestController
--@RequestMapping("/app-problem")
- @CrossOrigin
- public class AppProblemController extends ZRestController{
- 
-@@ -25,17 +25,38 @@ public class AppProblemController extends ZRestController{
-     AppProblemService appProblemService;
- 
-     /**
--     * 查询app某一个维度问题点方法
--     * @param app
-+     * 查询app某一个维度产品品质问题的方法
-+     * @param id
-      * @param dimensions
-+     * @param month
-      * @return
-      */
--    @RequestMapping(method = RequestMethod.GET)
--    public ResponseMessage getAppProblem(int app,String dimensions,String month){
--        List<Map<String, Object>> appProblemList = appProblemService.getAppProblem(app, dimensions,month);
-+    @RequestMapping(value = "/app-quality-problem",method = RequestMethod.GET)
-+    public ResponseMessage getAppQualityProblem(int id,String dimensions,String month){
-+        List<Map<String, Object>> appQualityProblemList = appProblemService.getAppQualityProblem(id, dimensions,month);
-         ResponseMessage responseMessage=this.genResponseMessage();
--        if (appProblemList!=null && appProblemList.size()!=0){
--            responseMessage.set("appProblemList",appProblemList);
-+        if (appQualityProblemList!=null && appQualityProblemList.size()!=0){
-+            responseMessage.set("appQualityProblemList",appQualityProblemList);
-+        }else {
-+            responseMessage.set("message","当前维度还没有记录问题！！！");
-+        }
-+        return responseMessage;
-+    }
-+
-+
-+    /**
-+     * 查询app某一个维度产品运营问题的方法
-+     * @param id
-+     * @param dimensions
-+     * @param month
-+     * @return
-+     */
-+    @RequestMapping(value = "/app-operation-problem",method = RequestMethod.GET)
-+    public ResponseMessage getAppOperationProblem(int id,String dimensions,String month){
-+        List<Map<String, Object>> appOperationProblemList = appProblemService.getAppOperationProblem(id, dimensions,month);
-+        ResponseMessage responseMessage=this.genResponseMessage();
-+        if (appOperationProblemList!=null && appOperationProblemList.size()!=0){
-+            responseMessage.set("appOperationProblemList",appOperationProblemList);
-         }else {
-             responseMessage.set("message","当前维度还没有记录问题！！！");
-         }
-diff --git a/index-server/src/main/java/com/cmri/um/he/index/dao/AppProblemDao.java b/index-server/src/main/java/com/cmri/um/he/index/dao/AppProblemDao.java
-index 7887ba2..a3d89b3 100644
---- a/index-server/src/main/java/com/cmri/um/he/index/dao/AppProblemDao.java
-+++ b/index-server/src/main/java/com/cmri/um/he/index/dao/AppProblemDao.java
-@@ -8,8 +8,9 @@ import java.util.List;
- import java.util.Map;
- 
- /**
-- * 查询app某一具体维度的问题列表
-- * Created by machao on 2018/7/3.
-+ * 查询app某维度的问题
-+ * @author machao
-+ * Created on 2018/7/4
-  */
- @Repository
- public class AppProblemDao extends BaseDao{
-@@ -18,12 +19,27 @@ public class AppProblemDao extends BaseDao{
-     AppProblemMapper appProblemMapper;
- 
-     /**
--     * 根据应用以及维度查询问题列表
--     * @param app
-+     * 查询app某一个维度产品品质问题的方法
-+     * @param id
-      * @param dimensions
-+     * @param month
-      * @return
-      */
--    public List<Map<String, Object>> getAppProblem(int app,String dimensions,String month) {
--        return appProblemMapper.getAppProblem(app,dimensions,month);
-+    public List<Map<String, Object>> getAppQualityProblem(int id,String dimensions,String month) {
-+        return appProblemMapper.getAppQualityProblem(id,dimensions,month);
-+
-     }
-+
-+    /**
-+     * 查询app某一个维度产品运营问题的方法
-+     * @param id
-+     * @param dimensions
-+     * @param month
-+     * @return
-+     */
-+    public List<Map<String, Object>> getAppOperationProblem(int id,String dimensions,String month) {
-+        return appProblemMapper.getAppOperationProblem(id,dimensions,month);
-+    }
-+
-+
- }
-diff --git a/index-server/src/main/java/com/cmri/um/he/index/mapper/AppProblemMapper.java b/index-server/src/main/java/com/cmri/um/he/index/mapper/AppProblemMapper.java
-index 0bac326..680cd5f 100644
---- a/index-server/src/main/java/com/cmri/um/he/index/mapper/AppProblemMapper.java
-+++ b/index-server/src/main/java/com/cmri/um/he/index/mapper/AppProblemMapper.java
-@@ -11,20 +11,34 @@ import java.util.Map;
- /**
-  * App维度问题
-  * @author machao
-- * Created on 2018/7/3
-+ * Created on 2018/7/4
-  */
- @Mapper
- public interface AppProblemMapper {
- 
-     /**
--     * 查询app某一具体维度的问题列表
--     * @param app
-+     * 查询app某一个维度产品品质问题的方法
-+     * @param id
-      * @param dimensions
-+     * @param month
-      * @return
-      */
-     @Select("SELECT aof.`month`,ac.`name`as category,ai.`name` as app,aof.`version`,aof.`dimensions`,aof.`des`,aof.`experience`,aof.`frequency`,aof.`score`,aof.`degree` " +
-             "FROM app_info ai JOIN app_original_features aof ON ai.`id`=aof.`app` LEFT JOIN app_category ac ON ai.`category`= ac.id\n" +
--            "WHERE ai.`id`=#{app} AND aof.`dimensions`=#{dimensions} AND aof.`month`=#{month}")
--    List<Map<String, Object>> getAppProblem(@Param("app")int app,@Param("dimensions")String dimensions,@Param("month")String month);
-+            "WHERE ai.`id`=#{id} AND aof.`dimensions`=#{dimensions} AND aof.`month`=#{month}")
-+    List<Map<String, Object>> getAppQualityProblem(@Param("id")int id,@Param("dimensions")String dimensions,@Param("month")String month);
-+
-+
-+    /**
-+     * 查询app某一个维度产品运营问题的方法
-+     * @param id
-+     * @param dimensions
-+     * @param month
-+     * @return
-+     */
-+    @Select("SELECT aof.`month`,ac.name,ai.`name`,aof.`version`,aof.`dimensions`,aof.`three_level_index`,aof.`specific_channel`,aof.`detailed_description`,aof.`test_value` " +
-+            "FROM app_info ai JOIN app_original_features aof ON ai.`id`=aof.`app` LEFT JOIN app_category ac ON ai.`category`= ac.id\n" +
-+            "WHERE ai.`id`=#{id} AND aof.`dimensions`=#{dimensions} AND aof.`month`=#{month}")
-+    List<Map<String, Object>> getAppOperationProblem(@Param("id")int id,@Param("dimensions")String dimensions,@Param("month")String month);
- 
- }
-diff --git a/index-server/src/main/java/com/cmri/um/he/index/service/AppProblemService.java b/index-server/src/main/java/com/cmri/um/he/index/service/AppProblemService.java
-index c06f84d..3b4f56d 100644
---- a/index-server/src/main/java/com/cmri/um/he/index/service/AppProblemService.java
-+++ b/index-server/src/main/java/com/cmri/um/he/index/service/AppProblemService.java
-@@ -6,15 +6,28 @@ import java.util.List;
- import java.util.Map;
- 
- /**
-- * 查询app某一具体维度的问题列表
-- * Created by machao on 2018/7/3.
-+ * 查询app某维度的问题
-+ * @author machao
-+ * Created on 2018/7/4
-  */
- public interface AppProblemService {
-     /**
--     * 查询app某一个维度问题点方法
--     * @param app
-+     * 查询app某一个维度产品品质问题的方法
-+     * @param id
-      * @param dimensions
-+     * @param month
-      * @return
-      */
--    public List<Map<String, Object>> getAppProblem(int app,String dimensions,String month);
-+    public List<Map<String, Object>> getAppQualityProblem(int id,String dimensions,String month);
-+
-+    /**
-+     * 查询app某一个维度产品运营问题的方法
-+     * @param id
-+     * @param dimensions
-+     * @param month
-+     * @return
-+     */
-+    public List<Map<String, Object>> getAppOperationProblem(int id,String dimensions,String month);
-+
-+
- }
-diff --git a/index-server/src/main/java/com/cmri/um/he/index/service/impl/AppProblemServiceImpl.java b/index-server/src/main/java/com/cmri/um/he/index/service/impl/AppProblemServiceImpl.java
-index 0655ecf..03cf5e8 100644
---- a/index-server/src/main/java/com/cmri/um/he/index/service/impl/AppProblemServiceImpl.java
-+++ b/index-server/src/main/java/com/cmri/um/he/index/service/impl/AppProblemServiceImpl.java
-@@ -9,8 +9,9 @@ import java.util.List;
- import java.util.Map;
- 
- /**
-- * 查询app某一具体维度的问题列表
-- * Created by machao on 2018/7/3.
-+ * 查询app某维度的问题
-+ * @author machao
-+ * Created on 2018/7/4
-  */
- @Service
- public class AppProblemServiceImpl implements AppProblemService {
-@@ -19,7 +20,12 @@ public class AppProblemServiceImpl implements AppProblemService {
-     AppProblemDao appProblemDao;
- 
-     @Override
--    public List<Map<String, Object>> getAppProblem(int app, String dimensions,String month) {
--        return appProblemDao.getAppProblem(app,dimensions,month);
-+    public List<Map<String, Object>> getAppOperationProblem(int id, String dimensions, String month) {
-+        return appProblemDao.getAppOperationProblem(id, dimensions, month);
-+    }
-+
-+    @Override
-+    public List<Map<String, Object>> getAppQualityProblem(int id, String dimensions,String month) {
-+        return appProblemDao.getAppQualityProblem(id,dimensions,month);
-     }
- }
-diff --git a/patches/machao-patch_modifyComment.patch b/patches/machao-patch_modifyComment.patch
-index 41201b0..b1c5107 100644
---- a/patches/machao-patch_modifyComment.patch
-+++ b/patches/machao-patch_modifyComment.patch
-@@ -1,307 +0,0 @@
--diff --git a/index-management/src/main/java/com/cmri/um/he/index/controller/AppQualityController.java b/index-management/src/main/java/com/cmri/um/he/index/controller/AppQualityController.java
--new file mode 100644
--index 0000000..bc51ed7
----- /dev/null
--+++ b/index-management/src/main/java/com/cmri/um/he/index/controller/AppQualityController.java
--@@ -0,0 +1,63 @@
--+package com.cmri.um.he.index.controller;
--+
--+import com.cmri.spring.common.controller.ZRestController;
--+import com.cmri.spring.common.data.ResponseMessage;
--+import com.cmri.um.he.index.service.AppQualityService;
--+import org.springframework.beans.factory.annotation.Autowired;
--+import org.springframework.web.bind.annotation.CrossOrigin;
--+import org.springframework.web.bind.annotation.RequestMapping;
--+import org.springframework.web.bind.annotation.RequestMethod;
--+import org.springframework.web.bind.annotation.RestController;
--+
--+import java.util.List;
--+
--+/**
--+ * 查询未计算体验指数的所有应用，计算应用的品质总分
--+ * @author machao
--+ * Created on 2018/6/28
--+ */
--+@RestController
--+@CrossOrigin
--+public class AppQualityController extends ZRestController {
--+
--+    @Autowired
--+    AppQualityService appQualityService;
--+
--+    /**
--+     * 查询所有未计算品质得分的应用
--+     * @return
--+     */
--+    @RequestMapping(value = "/app-quality-qindex-list",method = RequestMethod.GET)
--+    public ResponseMessage getQualityList() {
--+
--+        List resultList = appQualityService.quary();
--+        ResponseMessage responseMessage = this.genResponseMessage();
--+        if(resultList!=null && resultList.size()!=0){
--+            responseMessage.set("qualityList",resultList);
--+        }else {
--+            responseMessage.setMsg("没有需要处理数据！！！");
--+        }
--+        return responseMessage;
--+    }
--+
--+    /**
--+     * 计算应用的品质得分并存入数据库
--+     * @return
--+     */
--+    @RequestMapping(value = "/app-quality-qindex",method = RequestMethod.GET)
--+    public ResponseMessage setQindex(){
--+        List quaryList = appQualityService.quary();
--+        ResponseMessage responseMessage = this.genResponseMessage();
--+        if(quaryList!=null && quaryList.size()!=0){
--+            boolean b = appQualityService.setQindex(quaryList);
--+            if (b){
--+                responseMessage.setMsg("处理成功！");
--+            }else {
--+                responseMessage.setMsg("处理失败！");
--+            }
--+        }else {
--+            return responseMessage.setMsg("没有需要处理数据！！！");
--+        }
--+        return responseMessage;
--+    }
--+}
--diff --git a/index-management/src/main/java/com/cmri/um/he/index/dao/AppQualityDao.java b/index-management/src/main/java/com/cmri/um/he/index/dao/AppQualityDao.java
--new file mode 100644
--index 0000000..8889a19
----- /dev/null
--+++ b/index-management/src/main/java/com/cmri/um/he/index/dao/AppQualityDao.java
--@@ -0,0 +1,41 @@
--+package com.cmri.um.he.index.dao;
--+
--+import com.cmri.um.he.index.entity.AppQualityEntity;
--+import com.cmri.um.he.index.mapper.AppQualityMapper;
--+import org.springframework.beans.factory.annotation.Autowired;
--+import org.springframework.stereotype.Repository;
--+
--+import java.util.List;
--+import java.util.Map;
--+
--+/**
--+ * 查询未计算体验指数的所有应用，计算应用的品质总分
--+ * @author machao
--+ * Created on 2018/6/28
--+ */
--+@Repository
--+public class AppQualityDao extends BaseDao {
--+    @Autowired
--+    private AppQualityMapper appQualityMapper;
--+
--+    /**
--+     * 根据qindex是否为null查询所有未计算的应用
--+     */
--+    public List<Map<String, Object>> quaryQualityList(){
--+        return appQualityMapper.quaryQualityList();
--+    }
--+
--+
--+    /**
--+     * 将计算好的应用品质得分存入数据库
--+     * @param app
--+     * @param version
--+     * @param month
--+     * @param qindex
--+     * @return
--+     */
--+    public int setQindex(int app,String version,String month,double qindex){
--+        return appQualityMapper.setQindex(app,version,month,qindex);
--+    }
--+
--+}
--diff --git a/index-management/src/main/java/com/cmri/um/he/index/dao/AppWeightQualityDao.java b/index-management/src/main/java/com/cmri/um/he/index/dao/AppWeightQualityDao.java
--index bd4a8d5..25b75b7 100644
----- a/index-management/src/main/java/com/cmri/um/he/index/dao/AppWeightQualityDao.java
--+++ b/index-management/src/main/java/com/cmri/um/he/index/dao/AppWeightQualityDao.java
--@@ -18,4 +18,8 @@ public class AppWeightQualityDao {
--     public AppWeightQualityEntity findQualityConfig(int category){
--         return mapper.findQualityConfig(category);
--     }
--+
--+    public AppWeightQualityEntity getWeight(int category){
--+        return mapper.getWeight(category);
--+    }
-- }
--diff --git a/index-management/src/main/java/com/cmri/um/he/index/mapper/AppQualityMapper.java b/index-management/src/main/java/com/cmri/um/he/index/mapper/AppQualityMapper.java
--new file mode 100644
--index 0000000..91010c4
----- /dev/null
--+++ b/index-management/src/main/java/com/cmri/um/he/index/mapper/AppQualityMapper.java
--@@ -0,0 +1,40 @@
--+package com.cmri.um.he.index.mapper;
--+
--+import com.cmri.um.he.index.entity.AppQualityEntity;
--+import org.apache.ibatis.annotations.Mapper;
--+import org.apache.ibatis.annotations.Param;
--+import org.apache.ibatis.annotations.Select;
--+import org.apache.ibatis.annotations.Update;
--+
--+import java.util.List;
--+import java.util.Map;
--+
--+/**
--+ * 查询未计算体验指数的所有应用，计算应用的品质总分
--+ * @author machao
--+ * Created on 2018/6/28
--+ */
--+@Mapper
--+public interface AppQualityMapper {
--+
--+    /**
--+     * 根据qindex是否为null查询所有计算的应用计算值数据的方法
--+     * @return
--+     */
--+    @Select("SELECT ai.`name` as name,aq.`app` as app,aq.`category` as category,aq.`features` as features,aq.`views` as views,aq.`delay` as delay,aq.`consume` as consume,aq.`experience` as experience,aq.`version` as version,aq.`month`AS month,aq.`qindex`AS qindex\n" +
--+            "FROM app_info AS ai JOIN app_quality AS aq ON ai.`id`=aq.`app` \n" +
--+            "WHERE aq.`qindex` IS NULL")
--+    List<Map<String, Object>> quaryQualityList();
--+
--+
--+    /**
--+     * 将计算好的应用品质得分存入数据库
--+     * @param app
--+     * @param version
--+     * @param month
--+     * @param qindex
--+     * @return
--+     */
--+    @Update("UPDATE app_quality SET qindex = #{qindex} WHERE app=#{app} AND VERSION = #{version} AND month=#{month}")
--+    int setQindex(@Param("app") int app,@Param("version")String version,@Param("month")String month,@Param("qindex")double qindex);
--+}
--diff --git a/index-management/src/main/java/com/cmri/um/he/index/mapper/AppWeightQualityMapper.java b/index-management/src/main/java/com/cmri/um/he/index/mapper/AppWeightQualityMapper.java
--index f0022ab..d8c5ea0 100644
----- a/index-management/src/main/java/com/cmri/um/he/index/mapper/AppWeightQualityMapper.java
--+++ b/index-management/src/main/java/com/cmri/um/he/index/mapper/AppWeightQualityMapper.java
--@@ -19,4 +19,12 @@ public interface AppWeightQualityMapper {
--      */
--     @Select("SELECT * FROM app_weight_quality where category=#{category}")
--     AppWeightQualityEntity findQualityConfig(int category);
--+
--+    /**
--+     * 根据应用类型查询维度权重
--+     * @param category
--+     * @return
--+     */
--+    @Select("SELECT wfeatures,wview,wdelay,wconsume,wexperience FROM app_weight_quality WHERE category=#{category}")
--+    AppWeightQualityEntity getWeight(int category);
-- }
--diff --git a/index-management/src/main/java/com/cmri/um/he/index/service/AppQualityService.java b/index-management/src/main/java/com/cmri/um/he/index/service/AppQualityService.java
--new file mode 100644
--index 0000000..346b58f
----- /dev/null
--+++ b/index-management/src/main/java/com/cmri/um/he/index/service/AppQualityService.java
--@@ -0,0 +1,29 @@
--+package com.cmri.um.he.index.service;
--+
--+import com.cmri.spring.common.data.PagingData;
--+import com.cmri.um.he.index.entity.AppQualityEntity;
--+
--+import java.util.List;
--+import java.util.Map;
--+
--+
--+/**
--+ * 查询未计算体验指数的所有应用，计算应用的品质总分
--+ *
--+ * @author machao
--+ * Created on 2018/6/28
--+ */
--+public interface AppQualityService {
--+    /**
--+     * 查询所有未计算的应用
--+     * @return
--+     */
--+    public List<Map<String, Object>> quary();
--+
--+    /**
--+     * 计算应用的品质得分并粗如数据库
--+     * @param qualityEntityList
--+     * @return
--+     */
--+    public boolean setQindex(List<Map<String, Object>> qualityEntityList);
--+}
--diff --git a/index-management/src/main/java/com/cmri/um/he/index/service/impl/AppQualityServiceImpl.java b/index-management/src/main/java/com/cmri/um/he/index/service/impl/AppQualityServiceImpl.java
--new file mode 100644
--index 0000000..204c62e
----- /dev/null
--+++ b/index-management/src/main/java/com/cmri/um/he/index/service/impl/AppQualityServiceImpl.java
--@@ -0,0 +1,74 @@
--+package com.cmri.um.he.index.service.impl;
--+
--+import com.cmri.um.he.index.dao.AppQualityDao;
--+import com.cmri.um.he.index.dao.AppWeightQualityDao;
--+import com.cmri.um.he.index.entity.AppQualityEntity;
--+import com.cmri.um.he.index.entity.AppWeightQualityEntity;
--+import com.cmri.um.he.index.service.AppQualityService;
--+import org.springframework.beans.factory.annotation.Autowired;
--+import org.springframework.stereotype.Service;
--+
--+
--+import java.text.DecimalFormat;
--+import java.util.List;
--+import java.util.Map;
--+
--+/**
--+ * 查询未计算体验指数的所有应用，计算应用的品质总分
--+ * @author machao
--+ * Created on 2018/6/28
--+ */
--+@Service
--+public class AppQualityServiceImpl implements AppQualityService {
--+
--+    @Autowired
--+    AppQualityDao appQualityDao;
--+
--+    @Autowired
--+    AppWeightQualityDao appWeightQualityDao;
--+
--+    private final static DecimalFormat DF=new DecimalFormat("#,##0.00");
--+
--+    /**
--+     * 查询未计算的应用
--+     * @return
--+     */
--+    @Override
--+    public List<Map<String, Object>> quary() {
--+
--+        return appQualityDao.quaryQualityList();
--+    }
--+
--+    /**
--+     * 计算应用的品质得分并存入数据库
--+     * @param qualityEntityList
--+     * @return
--+     */
--+    @Override
--+    public boolean setQindex(List<Map<String, Object>> qualityEntityList) {
--+        double qindex=0;
--+        try {
--+            for (Map<String, Object> appQualityEntity : qualityEntityList) {
--+
--+                AppWeightQualityEntity appWeightQualityEntity = appWeightQualityDao.getWeight((int)appQualityEntity.get("category"));
--+                double feature = appWeightQualityEntity.getWfeatures();
--+                double view = appWeightQualityEntity.getWview();
--+                double delay = appWeightQualityEntity.getWdelay();
--+                double consume = appWeightQualityEntity.getWconsume();
--+                double experience = appWeightQualityEntity.getWexperience();
--+
--+                //APP品质总得分=Σ（各维度品质标准值*该维度权重）
--+                qindex = (double)appQualityEntity.get("features")*feature+(double)appQualityEntity.get("views")*view+(double)appQualityEntity.get("delay")*delay+(double)appQualityEntity.get("consume")*consume+(double)appQualityEntity.get("experience")*experience;;
--+                String qindex1 = DF.format(qindex);
--+                qindex = Double.valueOf(qindex1);
--+                int i = appQualityDao.setQindex((int)appQualityEntity.get("app"), (String) appQualityEntity.get("version"), (String) appQualityEntity.get("month"), qindex);
--+
--+            }
--+            return true;
--+        }catch (Exception e){
--+            return false;
--+        }
--+
--+    }
--+
--+}
